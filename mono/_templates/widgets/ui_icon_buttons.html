<style>
  em { 
    font-size: 3em;
    transition: .2s; 
    margin: 0px;
    padding: .5rem;
    width: 1em;
    border-radius: .25rem;
  }
  em:hover { 
    background-color: #E0E1E2;
  }
  em.active {
    background-color: #CACBCD;
  }
</style>
<input 
  type="hidden" 
  id="{{ widget.attrs.id }}" 
  name="{{ widget.name }}"
  value="{{ widget.value }}"
>
<div>
  {% for value, name in widget.choices %}
  {% if value %}
  <em data-emoji={{ name }}
    {% if widget.value == value %}class="active"{% endif %}
    data-value="{{ value }}"
    onclick="selectType(this)"
    style="cursor: pointer;"></em>
  {% endif %}
  {% endfor %}
</div>

<script type="text/javascript" charset="utf-8">
  let selectType = el => {
    $(el).addClass('active')
    .siblings().removeClass('active');
    $("input[name={{ widget.name }}]").val($(el).data('value'));
    $("input[name={{ widget.name }}]").change();
  }
</script>