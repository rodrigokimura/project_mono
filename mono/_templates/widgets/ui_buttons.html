<input 
  type="hidden" 
  id="{{ widget.attrs.id }}" 
  name="{{ widget.name }}"
  value="{{ widget.value }}"
>
<div class="ui buttons">
  {% for value, name in widget.choices %}
  <div 
    class="ui {% if widget.value == value %}active {% endif %} button" 
    data-name="{{ widget.name }}" 
    data-value="{{ value }}"
    onclick="selectType(this)">
    {{ name }}
  </div>
  {% endfor %}
</div>

<script type="text/javascript" charset="utf-8">
  let selectType = el => {
    $(el).addClass('active')
    .siblings().removeClass('active');
    $("input[name={{ widget.name }}]").val($(el).data('value'));
    $("input[name={{ widget.name }}]").change();
  }
</script>