<div class="ui search selection long dropdown">
  <input 
  type="hidden" 
  id="{{ widget.attrs.id }}" 
  name="{{ widget.name }}"
  value="{{ widget.value }}">
  <div class="text"></div>
  <i class="dropdown icon"></i>
</div>
<script type="text/javascript" charset="utf-8">
  let dropdown_element = $('[name={{ widget.name }}]').parent()

  let updateDropdown = (type, account) => {
    dropdown_element.dropdown({
      apiSettings: {
        url: '/fn/ajax/categories/',
        data: {type:type, account:account},
        cache: false,
      },
      placeholder: "Select a category",
      fullTextSearch: false,
      filterRemoteData: false,
      saveRemoteData: false,
      forceSelection: false,
    });
  }
  
</script>